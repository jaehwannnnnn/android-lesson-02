<html>
    <body>
        <a href="/upload"> <--  업로드 페이지로 </a>
        <h2> 파일 다운로드 페이지</h2>
        <span>REST 요청을 보내 파일 목록을 불러오고, 다음 li에 다운로드 링크와 함께 삽입하십시오.</span>
        <span>파일 목록을 불러오는 예제에 대해서는 <a href="https://github.com/java-lesson-cbnu/android-lesson-01">이전 예제 레포지토리</a>를 참고하세요. </span>
        <li id="file_list">

        </li>
    </body>
    <head>
        <script type="application/javascript">
            document.addEventListener("DOMContentLoaded", function () {
            // 파일 목록을 불러오는 REST 요청
            fetch('/api/getFileList') // 실제 REST 엔드포인트로 변경해야 함
                .then(response => response.json())
                .then(data => {
                    const fileListElement = document.getElementById("file_list");

                    // 파일 목록을 순회하면서 다운로드 링크를 생성하여 페이지에 추가
                    data.forEach(file => {
                        const listItem = document.createElement("li");
                        const downloadLink = document.createElement("a");
                        downloadLink.href = `/download/${file.filename}`; // 실제 다운로드 경로로 변경
                        downloadLink.textContent = file.filename;
                        listItem.appendChild(downloadLink);
                        fileListElement.appendChild(listItem);
                    });
                })
                .catch(error => {
                    console.error("파일 목록을 불러오는 중 오류 발생:", error);
                });
        });
        </script>
    </head>
</html>